---
title: ThreeJS åŸºç¡€å­¦ä¹  (1)
description: åŸºç¡€å­¦ä¹ ç›®æ ‡ï¼šäº†è§£ä¸‰ç»´ç›¸å…³æ¦‚å¿µå’Œç»ƒä¹ ThreeJS APIThree.jsæ˜¯ä¸€ä¸ªåŸºäºWebGLçš„3Då›¾å½¢åº“ï¼Œå®ƒæä¾›äº†è®¸å¤šé«˜çº§åŠŸèƒ½å’Œå·¥å…·ï¼Œä½¿å¾—åˆ›å»º3Då†…å®¹å˜å¾—æ›´åŠ ç®€å•ã€‚å­¦ä¹ èµ„æ–™ï¼šhttp://www.webgl3d.cn/ https://github.com/mrdoob/three.js/ ...
pubDate: 2023-08-14T07:12:19.000Z
---

> åŸºç¡€å­¦ä¹ ç›®æ ‡ï¼šäº†è§£ä¸‰ç»´ç›¸å…³æ¦‚å¿µå’Œç»ƒä¹ ThreeJS API

Three.jsæ˜¯ä¸€ä¸ªåŸºäºWebGLçš„3Då›¾å½¢åº“ï¼Œå®ƒæä¾›äº†è®¸å¤šé«˜çº§åŠŸèƒ½å’Œå·¥å…·ï¼Œä½¿å¾—åˆ›å»º3Då†…å®¹å˜å¾—æ›´åŠ ç®€å•ã€‚<br />å­¦ä¹ èµ„æ–™ï¼š<br />[Three.jsä¸­æ–‡ç½‘](http://www.webgl3d.cn/)<br /> [GitHub - mrdoob/three.js: JavaScript 3D Library.](https://github.com/mrdoob/three.js/) <br />[three.js docs](https://threejs.org/docs/index.html)


## æ¦‚å¿µ
> éœ€è¦ç»ƒä¹ 3ç»´ç©ºé—´çš„è§‚æµ‹æ•ˆæœ


### [âœ“] 1. Three.jsåŸºç¡€æ¦‚å¿µ

- **åœºæ™¯ï¼ˆSceneï¼‰**ï¼šæ ‡å‡†çš„åœºæ™¯ï¼Œç”¨äºæ”¾ç½®æ‰€æœ‰çš„ç‰©ä½“å’Œå…‰æºã€‚

æƒ³è±¡ä¸€ä¸ªèˆå°ï¼Œæ‰€æœ‰çš„æ¼”å‘˜ï¼ˆç‰©ä½“ï¼‰å’Œç¯å…‰ï¼ˆå…‰æºï¼‰éƒ½åœ¨è¿™ä¸ªèˆå°ä¸Šã€‚åœºæ™¯å°±æ˜¯è¿™ä¸ªèˆå°ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œç”¨æ¥æ”¾ç½®ä½ æƒ³å±•ç¤ºçš„æ‰€æœ‰3Dç‰©ä½“å’Œå…‰æºã€‚

- **ç›¸æœºï¼ˆCameraï¼‰**ï¼šå®šä¹‰äº†ä»å“ªä¸ªè§’åº¦è§‚å¯Ÿåœºæ™¯ã€‚
   - é€è§†ç›¸æœºï¼ˆPerspectiveCameraï¼‰ï¼šæ¨¡æ‹Ÿäººçœ¼çš„è§†è§’ï¼Œè¿œå¤„çš„ç‰©ä½“çœ‹èµ·æ¥æ¯”è¿‘å¤„çš„å°ã€‚
   - æ­£äº¤ç›¸æœºï¼ˆOrthographicCameraï¼‰ï¼šæ‰€æœ‰ç‰©ä½“å¤§å°ä¸å˜ï¼Œä¸å—è·ç¦»çš„å½±å“ï¼Œå¸¸ç”¨äº2Dæ¸¸æˆæˆ–å·¥ç¨‹å›¾ã€‚

ç›¸æœºå°±åƒæ˜¯è§‚ä¼—çš„çœ¼ç›ï¼Œå†³å®šäº†æˆ‘ä»¬ä»å“ªä¸ªä½ç½®å’Œè§’åº¦çœ‹è¿™ä¸ªèˆå°ã€‚åœ¨Three.jsä¸­ï¼Œæœ‰å¤šç§ç›¸æœºï¼Œå¦‚é€è§†ç›¸æœºå’Œæ­£äº¤ç›¸æœºï¼Œå®ƒä»¬å†³å®šäº†è§‚çœ‹ç‰©ä½“çš„æ–¹å¼ã€‚

- **æ¸²æŸ“å™¨ï¼ˆRendererï¼‰**ï¼šå†³å®šå¦‚ä½•åœ¨æµè§ˆå™¨ä¸­ç»˜åˆ¶åœºæ™¯ã€‚
   - WebGLRendererï¼šä½¿ç”¨WebGLè¿›è¡Œæ¸²æŸ“çš„ä¸»è¦æ¸²æŸ“å™¨ã€‚
   - WebGL1Rendererï¼šä¸“ä¸ºWebGL 1è®¾è®¡çš„æ¸²æŸ“å™¨ã€‚
   - CSS2DRendererã€CSS3DRendererï¼šä½¿ç”¨CSSè¿›è¡Œ2Då’Œ3Dæ¸²æŸ“ã€‚
   - SVGRendererï¼šä½¿ç”¨SVGè¿›è¡Œæ¸²æŸ“ã€‚

æ¸²æŸ“å™¨å°±åƒæ˜¯å¯¼æ¼”ï¼Œå®ƒå†³å®šäº†å¦‚ä½•åœ¨æµè§ˆå™¨ä¸­å±•ç¤ºè¿™ä¸ªèˆå°å’Œæ¼”å‘˜ã€‚å®ƒå¤„ç†äº†æ‰€æœ‰çš„ç»˜å›¾å’Œå…‰å½±æ•ˆæœï¼Œç¡®ä¿åœºæ™¯çœ‹èµ·æ¥çœŸå®å’Œæµç•…ã€‚

- **å‡ ä½•ä½“ï¼ˆGeometryï¼‰**ï¼šå®šä¹‰ç‰©ä½“çš„å½¢çŠ¶ã€‚
   - BoxGeometryï¼šç«‹æ–¹ä½“ã€‚
   - CircleGeometryï¼šåœ†å½¢ã€‚
   - ConeGeometryï¼šåœ†é”¥ä½“ã€‚
   - CylinderGeometryï¼šåœ†æŸ±ä½“ã€‚
   - DodecahedronGeometryï¼šåäºŒé¢ä½“ã€‚
   - IcosahedronGeometryï¼šäºŒåé¢ä½“ã€‚
   - LatheGeometryï¼šè½¦å‰Šå‡ ä½•ä½“ã€‚
   - PlaneGeometryï¼šå¹³é¢ã€‚
   - RingGeometryï¼šç¯å½¢ã€‚
   - SphereGeometryï¼šçƒä½“ã€‚
   - TorusGeometryï¼šåœ†ç¯ä½“ã€‚
   - TorusKnotGeometryï¼šç¯å½¢ç»“ã€‚
   - TubeGeometryï¼šç®¡çŠ¶ä½“ã€‚
   - BufferGeometryï¼šç›´æ¥æ“ä½œé¡¶ç‚¹æ•°æ®çš„ä½çº§å‡ ä½•ä½“ï¼Œç”¨äºé«˜æ€§èƒ½åœºæ™¯ã€‚

å‡ ä½•ä½“æ˜¯ç‰©ä½“çš„â€œéª¨æ¶â€ã€‚å®ƒå®šä¹‰äº†ç‰©ä½“çš„å½¢çŠ¶ï¼Œæ¯”å¦‚ç«‹æ–¹ä½“ã€çƒä½“æˆ–å¤æ‚çš„3Dæ¨¡å‹ã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªé›•å¡‘çš„æ¨¡å‹ã€‚

- **æè´¨ï¼ˆMaterialï¼‰**ï¼šå®šä¹‰ç‰©ä½“çš„å¤–è§‚ï¼Œå¦‚é¢œè‰²ã€å…‰æ»‘åº¦ç­‰ã€‚
   - MeshBasicMaterialï¼šåŸºç¡€æè´¨ï¼Œä¸å—å…‰ç…§å½±å“ã€‚
   - MeshLambertMaterialï¼šæœ‰æ¼«åå°„æ•ˆæœçš„æè´¨ã€‚
   - MeshPhongMaterialï¼šæœ‰é«˜å…‰æ•ˆæœçš„æè´¨ã€‚
   - MeshStandardMaterialï¼šåŸºäºç‰©ç†çš„æ¸²æŸ“ï¼ˆPBRï¼‰æè´¨ã€‚
   - MeshPhysicalMaterialï¼šæ‰©å±•äº†MeshStandardMaterialï¼Œå¢åŠ äº†æ›´å¤šçš„ç‰©ç†å±æ€§ã€‚
   - MeshToonMaterialï¼šå¡é€šé£æ ¼æè´¨ã€‚
   - ShaderMaterialï¼šè‡ªå®šä¹‰ç€è‰²å™¨æè´¨ã€‚
   - RawShaderMaterialï¼šè‡ªå®šä¹‰åŸå§‹ç€è‰²å™¨æè´¨ã€‚
   - LineBasicMaterialã€LineDashedMaterialï¼šçº¿æ¡æè´¨ã€‚

å¦‚æœè¯´å‡ ä½•ä½“æ˜¯é›•å¡‘çš„æ¨¡å‹ï¼Œé‚£ä¹ˆæè´¨å°±æ˜¯è¿™ä¸ªé›•å¡‘çš„â€œçš®è‚¤â€ã€‚å®ƒå®šä¹‰äº†ç‰©ä½“çš„é¢œè‰²ã€å…‰æ³½ã€é€æ˜åº¦ç­‰å¤–è§‚ç‰¹æ€§ã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥ç»™ä¸€ä¸ªçƒä½“ä¸€ä¸ªé‡‘å±çš„æè´¨ï¼Œä½¿å®ƒçœ‹èµ·æ¥åƒä¸€ä¸ªé‡‘å±çƒã€‚

- **å…‰æºï¼ˆLightsï¼‰**ï¼šåœºæ™¯ä¸­çš„å…‰æºï¼Œå¦‚ç‚¹å…‰æºã€æ–¹å‘å…‰ç­‰ã€‚
   - AmbientLightï¼šç¯å¢ƒå…‰ï¼Œå‡åŒ€ç…§äº®åœºæ™¯ä¸­çš„æ‰€æœ‰ç‰©ä½“ã€‚
   - DirectionalLightï¼šæ–¹å‘å…‰ï¼Œä»ä¸€ä¸ªæ–¹å‘å‘å‡ºçš„å…‰ï¼Œå¦‚å¤ªé˜³å…‰ã€‚
   - HemisphereLightï¼šåŠçƒå…‰ï¼Œä¸Šä¸‹ä¸¤éƒ¨åˆ†æœ‰ä¸åŒçš„é¢œè‰²ã€‚
   - PointLightï¼šç‚¹å…‰æºï¼Œä»ä¸€ä¸ªç‚¹å‘å‡ºçš„å…‰ã€‚
   - SpotLightï¼šèšå…‰ç¯ï¼Œä»ä¸€ä¸ªç‚¹å‘å‡ºå¹¶æ²¿ç€ç‰¹å®šæ–¹å‘çš„å…‰ã€‚
   - RectAreaLightï¼šçŸ©å½¢åŒºåŸŸå…‰ï¼Œå‘å‡ºçš„å…‰å½¢çŠ¶ä¸ºçŸ©å½¢ã€‚

å…‰æºå°±åƒæ˜¯èˆå°ä¸Šçš„ç¯å…‰ï¼Œå®ƒç…§äº®äº†åœºæ™¯ä¸­çš„ç‰©ä½“ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿçœ‹åˆ°å®ƒä»¬ã€‚ä¸åŒçš„å…‰æºä¼šäº§ç”Ÿä¸åŒçš„å…‰ç…§æ•ˆæœï¼Œå¦‚ç‚¹å…‰æºæ˜¯ä¸€ä¸ªç‚¹å‘å‡ºçš„å…‰ï¼Œæ–¹å‘å…‰åˆ™æ˜¯ä»ä¸€ä¸ªæ–¹å‘å‘å‡ºçš„å…‰ã€‚


### [âœ“] 2. è®¾ç½®åŸºæœ¬åœºæ™¯
å­¦ä¹ å¦‚ä½•è®¾ç½®ä¸€ä¸ªåŸºæœ¬çš„Three.jsåœºæ™¯ï¼ŒåŒ…æ‹¬åˆ›å»ºåœºæ™¯ã€ç›¸æœºã€æ¸²æŸ“å™¨ï¼Œä»¥åŠæ·»åŠ åŸºæœ¬çš„å‡ ä½•ä½“å’Œå…‰æºã€‚

### [âœ“] 3. åŠ è½½å¤–éƒ¨æ¨¡å‹å’Œçº¹ç†

- ä½¿ç”¨**GLTFLoader**åŠ è½½GLTFæ ¼å¼çš„3Dæ¨¡å‹ã€‚
- å­¦ä¹ å¦‚ä½•åŠ è½½å’Œåº”ç”¨çº¹ç†åˆ°ç‰©ä½“ä¸Šã€‚

### 4. åŠ¨ç”»å’Œäº¤äº’

- ä½¿ç”¨**requestAnimationFrame**è¿›è¡ŒåŠ¨ç”»å¾ªç¯ã€‚
- å­¦ä¹ å¦‚ä½•ä½¿ç”¨**OrbitControls**å®ç°ç›¸æœºçš„æ—‹è½¬ã€ç¼©æ”¾å’Œå¹³ç§»ã€‚
- å­¦ä¹ å¦‚ä½•ä½¿ç”¨**Raycaster**å®ç°ç‰©ä½“çš„ç‚¹å‡»å’Œäº¤äº’ã€‚

### 5. é«˜çº§æè´¨å’Œå…‰ç…§

- å­¦ä¹ ä½¿ç”¨**ShaderMaterial**åˆ›å»ºè‡ªå®šä¹‰æè´¨ã€‚
- æ·±å…¥äº†è§£Three.jsä¸­çš„å„ç§å…‰æºå’Œé˜´å½±æ•ˆæœã€‚

### 6. æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨**Stats.js**ç›‘æ§æ¸²æŸ“æ€§èƒ½ã€‚
- å­¦ä¹ å¦‚ä½•å‡å°‘å‡ ä½•ä½“çš„é¡¶ç‚¹å’Œé¢æ•°ã€‚
- ä½¿ç”¨**InstancedMesh**è¿›è¡Œå®ä¾‹åŒ–æ¸²æŸ“ã€‚

### 7. æ‰©å±•å’Œæ’ä»¶

- äº†è§£Three.jsçš„ç¤¾åŒºå’Œæ’ä»¶ç”Ÿæ€ï¼Œå¦‚**postprocessing**åº“ç­‰ã€‚

### 8. å®è·µé¡¹ç›®
é€‰æ‹©ä¸€ä¸ªå°é¡¹ç›®è¿›è¡Œå®è·µï¼Œå¦‚åˆ¶ä½œä¸€ä¸ª3Däº§å“å±•ç¤ºã€ä¸€ä¸ªå°æ¸¸æˆç­‰ã€‚


## Demo

### First 3D demo
```html

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>First 3D ThreeJS</title>
</head>

<body>
  <div id="webgl" style="margin-top: 200px;margin-left: 100px;"></div>
  <script type="module">
    // ç°åœ¨æµè§ˆå™¨æ”¯æŒES6è¯­æ³•ï¼Œè‡ªç„¶åŒ…æ‹¬importæ–¹å¼å¼•å…¥jsæ–‡ä»¶
    import * as THREE from 'three';
    //éšä¾¿è¾“å…¥ä¸€ä¸ªAPIï¼Œæµ‹è¯•ä¸‹æ˜¯å¦å·²ç»æ­£å¸¸å¼•å…¥three.js
    // console.log(THREE.Scene);
    // æ‰©å±•åº“OrbitControls.js
    import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
    // æ‰©å±•åº“GLTFLoader.js
    import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
    //å¼•å…¥æ€§èƒ½ç›‘è§†å™¨stats.js
    import Stats from 'three/addons/libs/stats.module.js';

    // ------------------ åœºæ™¯ ---------------------------
    // åˆ›å»º3Dåœºæ™¯å¯¹è±¡Scene
    const scene = new THREE.Scene();
    //åˆ›å»ºä¸€ä¸ªé•¿æ–¹ä½“å‡ ä½•å¯¹è±¡Geometry
    const geometry = new THREE.BoxGeometry(100, 100, 100);
    //åˆ›å»ºä¸€ä¸ªæè´¨å¯¹è±¡Material
    const material = new THREE.MeshBasicMaterial({
      color: 0xff0000,//0xff0000è®¾ç½®æè´¨é¢œè‰²ä¸ºçº¢è‰²
      transparent: true,//å¼€å¯é€æ˜
      opacity: 0.5,//è®¾ç½®é€æ˜åº¦
    });

    // ------------------ ç›¸æœºğŸ“· ---------------------------
    // å®ä¾‹åŒ–ä¸€ä¸ªé€è§†æŠ•å½±ç›¸æœºå¯¹è±¡
    // å®šä¹‰ç›¸æœºè¾“å‡ºç”»å¸ƒçš„å°ºå¯¸(å•ä½:åƒç´ px)
    const width = 800; //å®½åº¦
    const height = 500; //é«˜åº¦
    // 30:è§†åœºè§’åº¦, width / height:Canvasç”»å¸ƒå®½é«˜æ¯”, 1:è¿‘è£æˆªé¢, 3000ï¼šè¿œè£æˆªé¢
    const camera = new THREE.PerspectiveCamera(30, width / height, 1, 3000);

    //ç›¸æœºåœ¨Three.jsä¸‰ç»´åæ ‡ç³»ä¸­çš„ä½ç½®
    // æ ¹æ®éœ€è¦è®¾ç½®ç›¸æœºä½ç½®å…·ä½“å€¼
    camera.position.set(200, 200, 200);

    //ç›¸æœºè§‚å¯Ÿç›®æ ‡æŒ‡å‘Threejs 3Dç©ºé—´ä¸­æŸä¸ªä½ç½®
    camera.lookAt(0, 0, 0); //åæ ‡åŸç‚¹

    const mesh = new THREE.Mesh(geometry, material);
    console.log('---------', mesh);
    // ç›¸æœºä½ç½®xyzåæ ‡ï¼š0,10,0
    mesh.position.set(0, 10, 0);
    // ç›¸æœºä½ç½®xyzåæ ‡ï¼š200, 200, 200
    camera.position.set(200, 200, 200);
    scene.add(mesh);

    // -------------------æ¸²æŸ“å™¨-----------
    // åˆ›å»ºæ¸²æŸ“å™¨å¯¹è±¡
    const renderer = new THREE.WebGLRenderer();
    // å®šä¹‰threejsè¾“å‡ºç”»å¸ƒçš„å°ºå¯¸(å•ä½:åƒç´ px)
    renderer.setSize(width, height); //è®¾ç½®three.jsæ¸²æŸ“åŒºåŸŸçš„å°ºå¯¸(åƒç´ px)
    renderer.render(scene, camera); //æ‰§è¡Œæ¸²æŸ“æ“ä½œ
    document.body.appendChild(renderer.domElement);
    document.getElementById('webgl').appendChild(renderer.domElement);

    // -------------æ§åˆ¶å™¨---------------------
    // è®¾ç½®ç›¸æœºæ§ä»¶è½¨é“æ§åˆ¶å™¨OrbitControls
    const controls = new OrbitControls(camera, renderer.domElement);
    // å¦‚æœOrbitControlsæ”¹å˜äº†ç›¸æœºå‚æ•°ï¼Œé‡æ–°è°ƒç”¨æ¸²æŸ“å™¨æ¸²æŸ“ä¸‰ç»´åœºæ™¯
    controls.addEventListener('change', function () {
      renderer.render(scene, camera); //æ‰§è¡Œæ¸²æŸ“æ“ä½œ
    });//ç›‘å¬é¼ æ ‡ã€é”®ç›˜äº‹ä»¶

    // -------------æ€§èƒ½---------------
    //åˆ›å»ºstatså¯¹è±¡
    const stats = new Stats();
    //stats.domElement:webé¡µé¢ä¸Šè¾“å‡ºè®¡ç®—ç»“æœ,ä¸€ä¸ªdivå…ƒç´ ï¼Œ
    document.body.appendChild(stats.domElement);
    // æ¸²æŸ“å‡½æ•°
    function render() {
      //requestAnimationFrameå¾ªç¯è°ƒç”¨çš„å‡½æ•°ä¸­è°ƒç”¨æ–¹æ³•update(),æ¥åˆ·æ–°æ—¶é—´
      stats.update();
      renderer.render(scene, camera); //æ‰§è¡Œæ¸²æŸ“æ“ä½œ
      requestAnimationFrame(render); //è¯·æ±‚å†æ¬¡æ‰§è¡Œæ¸²æŸ“å‡½æ•°renderï¼Œæ¸²æŸ“ä¸‹ä¸€å¸§
    }
    render();
  </script>
</body>
</html>
```
